"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[6944],{8453(e,n,i){i.d(n,{R:()=>r,x:()=>a});var l=i(6540);const s={},o=l.createContext(s);function r(e){const n=l.useContext(o);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),l.createElement(o.Provider,{value:n},e.children)}},8478(e,n,i){i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"module-2-digital-twin/sdf-format","title":"Simulation Description Format (SDF)","description":"The Simulation Description Format (SDF) is an XML-based format used by Gazebo to describe simulation environments, robot models, and objects. SDF provides a complete description of the physics, visual properties, and plugins needed for simulation.","source":"@site/docs/module-2-digital-twin/sdf-format.md","sourceDirName":"module-2-digital-twin","slug":"/module-2-digital-twin/sdf-format","permalink":"/physical-ai-humanoid-robotics-book/docs/module-2-digital-twin/sdf-format","draft":false,"unlisted":false,"editUrl":"https://github.com/your-organization/physical-ai-humanoid-robotics-book/edit/main/book/docs/module-2-digital-twin/sdf-format.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9}}');var s=i(4848),o=i(8453);const r={sidebar_position:9},a="Simulation Description Format (SDF)",t={},d=[{value:"SDF Overview",id:"sdf-overview",level:2},{value:"SDF File Structure",id:"sdf-file-structure",level:2},{value:"World Elements",id:"world-elements",level:2},{value:"Physics Engine Configuration",id:"physics-engine-configuration",level:3},{value:"Models in Worlds",id:"models-in-worlds",level:3},{value:"Model Elements",id:"model-elements",level:2},{value:"Links",id:"links",level:3},{value:"Joints",id:"joints",level:3},{value:"Common Joint Types",id:"common-joint-types",level:2},{value:"Revolute Joint",id:"revolute-joint",level:3},{value:"Prismatic Joint",id:"prismatic-joint",level:3},{value:"Fixed Joint",id:"fixed-joint",level:3},{value:"Sensors in SDF",id:"sensors-in-sdf",level:2},{value:"Camera Sensor",id:"camera-sensor",level:3},{value:"LiDAR Sensor",id:"lidar-sensor",level:3},{value:"Including Models",id:"including-models",level:2},{value:"Standard Models",id:"standard-models",level:3},{value:"Custom Models",id:"custom-models",level:3},{value:"Plugins",id:"plugins",level:2},{value:"ROS Control Plugin",id:"ros-control-plugin",level:3},{value:"IMU Plugin",id:"imu-plugin",level:3},{value:"Best Practices for SDF",id:"best-practices-for-sdf",level:2},{value:"1. Organize Hierarchically",id:"1-organize-hierarchically",level:3},{value:"2. Use Meaningful Names",id:"2-use-meaningful-names",level:3},{value:"3. Validate Your SDF",id:"3-validate-your-sdf",level:3},{value:"4. Separate Concerns",id:"4-separate-concerns",level:3},{value:"5. Document Complex Models",id:"5-document-complex-models",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"simulation-description-format-sdf",children:"Simulation Description Format (SDF)"})}),"\n",(0,s.jsx)(n.p,{children:"The Simulation Description Format (SDF) is an XML-based format used by Gazebo to describe simulation environments, robot models, and objects. SDF provides a complete description of the physics, visual properties, and plugins needed for simulation."}),"\n",(0,s.jsx)(n.h2,{id:"sdf-overview",children:"SDF Overview"}),"\n",(0,s.jsx)(n.p,{children:"SDF is designed to be:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Flexible"}),": Accommodates various simulation scenarios"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Extensible"}),": Allows custom elements and plugins"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Hierarchical"}),": Organizes elements in a logical structure"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Human-readable"}),": Clear XML format for easy understanding"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"sdf-file-structure",children:"SDF File Structure"}),"\n",(0,s.jsx)(n.p,{children:"A basic SDF file structure:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.7">\n  <world name="my_world">\n    \x3c!-- World elements go here --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n    <include>\n      <uri>model://sun</uri>\n    </include>\n    \n    \x3c!-- Custom models --\x3e\n    <model name="my_robot" placement_frame="world">\n      \x3c!-- Model elements go here --\x3e\n    </model>\n  </world>\n</sdf>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"world-elements",children:"World Elements"}),"\n",(0,s.jsx)(n.h3,{id:"physics-engine-configuration",children:"Physics Engine Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Configure the physics simulation parameters:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<physics type="ode">\n  <max_step_size>0.001</max_step_size>\n  <real_time_factor>1.0</real_time_factor>\n  <real_time_update_rate>1000.0</real_time_update_rate>\n  <gravity>0 0 -9.8</gravity>\n  \n  <ode>\n    <solver>\n      <type>quick</type>\n      <iters>10</iters>\n      <sor>1.3</sor>\n    </solver>\n    <constraints>\n      <cfm>0.0</cfm>\n      <erp>0.2</erp>\n      <contact_max_correcting_vel>100.0</contact_max_correcting_vel>\n      <contact_surface_layer>0.001</contact_surface_layer>\n    </constraints>\n  </ode>\n</physics>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"models-in-worlds",children:"Models in Worlds"}),"\n",(0,s.jsx)(n.p,{children:"Define models within the world:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<model name="simple_box">\n  <pose>0 0 0.5 0 0 0</pose>  \x3c!-- x, y, z, roll, pitch, yaw --\x3e\n  <static>false</static>      \x3c!-- Whether the model is static --\x3e\n  \n  <link name="box_link">\n    <pose>0 0 0 0 0 0</pose>\n    <inertial>\n      <mass>1.0</mass>\n      <inertia>\n        <ixx>0.083</ixx>\n        <ixy>0</ixy>\n        <ixz>0</ixz>\n        <iyy>0.083</iyy>\n        <iyz>0</iyz>\n        <izz>0.083</izz>\n      </inertia>\n    </inertial>\n    \n    <visual name="visual">\n      <geometry>\n        <box>\n          <size>1 1 1</size>\n        </box>\n      </geometry>\n      <material>\n        <ambient>0.5 0.5 0.5 1</ambient>\n        <diffuse>0.8 0.8 0.8 1</diffuse>\n        <specular>0.1 0.1 0.1 1</specular>\n      </material>\n    </visual>\n    \n    <collision name="collision">\n      <geometry>\n        <box>\n          <size>1 1 1</size>\n        </box>\n      </geometry>\n    </collision>\n  </link>\n</model>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"model-elements",children:"Model Elements"}),"\n",(0,s.jsx)(n.h3,{id:"links",children:"Links"}),"\n",(0,s.jsx)(n.p,{children:"Links represent rigid bodies in the model:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<link name="link_name">\n  \x3c!-- Inertial properties for physics simulation --\x3e\n  <inertial>\n    <mass>1.0</mass>\n    <pose>0 0 0 0 0 0</pose>\n    <inertia>\n      <ixx>0.1</ixx>\n      <ixy>0.0</ixy>\n      <ixz>0.0</ixz>\n      <iyy>0.1</iyy>\n      <iyz>0.0</iyz>\n      <izz>0.1</izz>\n    </inertia>\n  </inertial>\n  \n  \x3c!-- Visual properties for rendering --\x3e\n  <visual name="visual_name">\n    <pose>0 0 0 0 0 0</pose>\n    <geometry>\n      <box>\n        <size>0.5 0.5 0.5</size>\n      </box>\n    </geometry>\n    <material>\n      <script>\n        <uri>file://media/materials/scripts/gazebo.material</uri>\n        <name>Gazebo/Blue</name>\n      <\/script>\n    </material>\n  </visual>\n  \n  \x3c!-- Collision properties for physics --\x3e\n  <collision name="collision_name">\n    <pose>0 0 0 0 0 0</pose>\n    <geometry>\n      <box>\n        <size>0.5 0.5 0.5</size>\n      </box>\n    </geometry>\n    <surface>\n      <friction>\n        <ode>\n          <mu>1.0</mu>\n          <mu2>1.0</mu2>\n        </ode>\n      </friction>\n      <bounce>\n        <restitution_coefficient>0.1</restitution_coefficient>\n        <threshold>100000.0</threshold>\n      </bounce>\n      <contact>\n        <ode>\n          <soft_cfm>0.0</soft_cfm>\n          <soft_erp>0.2</soft_erp>\n          <kp>1000000000000.0</kp>\n          <kd>1.0</kd>\n        </ode>\n      </contact>\n    </surface>\n  </collision>\n</link>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"joints",children:"Joints"}),"\n",(0,s.jsx)(n.p,{children:"Joints connect links and define their relative motion:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<joint name="joint_name" type="revolute">\n  <parent>parent_link</parent>\n  <child>child_link</child>\n  <pose>0 0 0 0 0 0</pose>\n  \n  <axis>\n    <xyz>0 0 1</xyz>  \x3c!-- Rotation axis --\x3e\n    <limit>\n      <lower>-1.57</lower>      \x3c!-- Lower limit (radians) --\x3e\n      <upper>1.57</upper>       \x3c!-- Upper limit (radians) --\x3e\n      <effort>100.0</effort>    \x3c!-- Maximum effort (N-m) --\x3e\n      <velocity>1.0</velocity>  \x3c!-- Maximum velocity (rad/s) --\x3e\n    </limit>\n    <dynamics>\n      <damping>0.1</damping>    \x3c!-- Damping coefficient --\x3e\n      <friction>0.0</friction>  \x3c!-- Joint friction --\x3e\n    </dynamics>\n  </axis>\n</joint>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"common-joint-types",children:"Common Joint Types"}),"\n",(0,s.jsx)(n.h3,{id:"revolute-joint",children:"Revolute Joint"}),"\n",(0,s.jsx)(n.p,{children:"Rotates around a single axis:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<joint name="hinge" type="revolute">\n  <parent>link1</parent>\n  <child>link2</child>\n  <axis>\n    <xyz>0 0 1</xyz>\n    <limit>\n      <lower>-1.57</lower>\n      <upper>1.57</upper>\n      <effort>100</effort>\n      <velocity>1</velocity>\n    </limit>\n  </axis>\n</joint>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"prismatic-joint",children:"Prismatic Joint"}),"\n",(0,s.jsx)(n.p,{children:"Linear motion along an axis:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<joint name="slider" type="prismatic">\n  <parent>link1</parent>\n  <child>link2</child>\n  <axis>\n    <xyz>1 0 0</xyz>\n    <limit>\n      <lower>-0.5</lower>\n      <upper>0.5</upper>\n      <effort>200</effort>\n      <velocity>0.5</velocity>\n    </limit>\n  </axis>\n</joint>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"fixed-joint",children:"Fixed Joint"}),"\n",(0,s.jsx)(n.p,{children:"No relative motion (rigid connection):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<joint name="fixed_joint" type="fixed">\n  <parent>link1</parent>\n  <child>link2</child>\n</joint>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"sensors-in-sdf",children:"Sensors in SDF"}),"\n",(0,s.jsx)(n.h3,{id:"camera-sensor",children:"Camera Sensor"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<sensor name="camera" type="camera">\n  <always_on>1</always_on>\n  <update_rate>30</update_rate>\n  <camera name="cam">\n    <horizontal_fov>1.047</horizontal_fov>  \x3c!-- 60 degrees --\x3e\n    <image>\n      <width>640</width>\n      <height>480</height>\n      <format>R8G8B8</format>\n    </image>\n    <clip>\n      <near>0.1</near>\n      <far>100</far>\n    </clip>\n  </camera>\n  <plugin name="camera_controller" filename="libgazebo_ros_camera.so">\n    <frame_name>camera_frame</frame_name>\n    <topic_name>image_raw</topic_name>\n  </plugin>\n</sensor>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"lidar-sensor",children:"LiDAR Sensor"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<sensor name="laser" type="ray">\n  <always_on>1</always_on>\n  <update_rate>10</update_rate>\n  <ray>\n    <scan>\n      <horizontal>\n        <samples>720</samples>\n        <resolution>1</resolution>\n        <min_angle>-1.570796</min_angle>  \x3c!-- -90 degrees --\x3e\n        <max_angle>1.570796</max_angle>    \x3c!-- 90 degrees --\x3e\n      </horizontal>\n    </scan>\n    <range>\n      <min>0.1</min>\n      <max>30.0</max>\n      <resolution>0.01</resolution>\n    </range>\n  </ray>\n  <plugin name="laser_controller" filename="libgazebo_ros_laser.so">\n    <topic_name>scan</topic_name>\n    <frame_name>laser_frame</frame_name>\n  </plugin>\n</sensor>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"including-models",children:"Including Models"}),"\n",(0,s.jsx)(n.h3,{id:"standard-models",children:"Standard Models"}),"\n",(0,s.jsx)(n.p,{children:"Include pre-built models from Gazebo's model database:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<include>\n  <uri>model://ground_plane</uri>\n</include>\n<include>\n  <uri>model://sun</uri>\n</include>\n<include>\n  <uri>model://cylinder</uri>\n  <pose>1 0 0 0 0 0</pose>\n</include>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"custom-models",children:"Custom Models"}),"\n",(0,s.jsx)(n.p,{children:"Include models from custom paths:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<include>\n  <uri>model://my_custom_robot</uri>\n  <pose>0 0 0.5 0 0 0</pose>\n  <name>custom_robot_1</name>\n</include>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"plugins",children:"Plugins"}),"\n",(0,s.jsx)(n.h3,{id:"ros-control-plugin",children:"ROS Control Plugin"}),"\n",(0,s.jsx)(n.p,{children:"Integrate with ROS control system:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">\n  <robotNamespace>/my_robot</robotNamespace>\n  <robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>\n</plugin>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"imu-plugin",children:"IMU Plugin"}),"\n",(0,s.jsx)(n.p,{children:"Simulate IMU sensor:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<sensor name="imu_sensor" type="imu">\n  <always_on>true</always_on>\n  <update_rate>100</update_rate>\n  <plugin name="imu_plugin" filename="libgazebo_ros_imu.so">\n    <topicName>imu/data</topicName>\n    <bodyName>imu_link</bodyName>\n    <frameName>imu_frame</frameName>\n    <gaussianNoise>0.01</gaussianNoise>\n  </plugin>\n</sensor>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices-for-sdf",children:"Best Practices for SDF"}),"\n",(0,s.jsx)(n.h3,{id:"1-organize-hierarchically",children:"1. Organize Hierarchically"}),"\n",(0,s.jsx)(n.p,{children:"Structure your SDF files logically with clear grouping of related elements."}),"\n",(0,s.jsx)(n.h3,{id:"2-use-meaningful-names",children:"2. Use Meaningful Names"}),"\n",(0,s.jsx)(n.p,{children:"Name elements descriptively to make SDF files easier to understand and debug."}),"\n",(0,s.jsx)(n.h3,{id:"3-validate-your-sdf",children:"3. Validate Your SDF"}),"\n",(0,s.jsxs)(n.p,{children:["Use the ",(0,s.jsx)(n.code,{children:"gz sdf"})," command to validate your SDF files:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"gz sdf -k model.sdf  # Check model file\ngz sdf -k world.world  # Check world file\n"})}),"\n",(0,s.jsx)(n.h3,{id:"4-separate-concerns",children:"4. Separate Concerns"}),"\n",(0,s.jsx)(n.p,{children:"Use separate SDF files for different components when possible to improve modularity."}),"\n",(0,s.jsx)(n.h3,{id:"5-document-complex-models",children:"5. Document Complex Models"}),"\n",(0,s.jsx)(n.p,{children:"Add comments to explain complex SDF structures and configurations."}),"\n",(0,s.jsx)(n.p,{children:"SDF is a powerful format that enables detailed specification of simulation environments and robot models. Understanding its structure and elements is essential for creating effective robotic simulations in Gazebo."})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);